---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.12.0
  name: httpscaledobjects.http.keda.sh
spec:
  group: http.keda.sh
  names:
    kind: HTTPScaledObject
    listKind: HTTPScaledObjectList
    plural: httpscaledobjects
    shortNames:
    - httpso
    singular: httpscaledobject
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.scaleTargetRef.deploymentName
      name: ScaleTargetDeploymentName
      type: string
    - jsonPath: .spec.scaleTargetRef
      name: ScaleTargetServiceName
      type: string
    - jsonPath: .spec.scaleTargetRef
      name: ScaleTargetPort
      type: integer
    - jsonPath: .spec.replicas.min
      name: MinReplicas
      type: integer
    - jsonPath: .spec.replicas.max
      name: MaxReplicas
      type: integer
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - jsonPath: .status.conditions[?(@.type=="HTTPScaledObjectIsReady")].status
      name: Active
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: HTTPScaledObject is the Schema for the httpscaledobjects API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HTTPScaledObjectSpec defines the desired state of HTTPScaledObject
            properties:
              host:
                description: (optional) (deprecated) The host to route. All requests
                  which the "Host" header matches .spec.host and the Request Target
                  matches any .spec.pathPrefixes will be routed to the Service and
                  Port specified in the scaleTargetRef. The .spec.host field is mutually
                  exclusive with the .spec.hosts field.
                type: string
              hosts:
                description: (optional) The hosts to route. All requests which the
                  "Host" header matches any .spec.hosts and the Request Target matches
                  any .spec.pathPrefixes will be routed to the Service and Port specified
                  in the scaleTargetRef. The .spec.hosts field is mutually exclusive
                  with the .spec.host field.
                items:
                  type: string
                type: array
              pathPrefixes:
                description: (optional) The paths to route. All requests which the
                  Request Target matches any .spec.pathPrefixes and the "Host" header
                  matches any .spec.hosts will be routed to the Service and Port specified
                  in the scaleTargetRef. The .spec.hosts field is mutually exclusive
                  with the .spec.host field. When this field is null, any path is
                  matched.
                items:
                  type: string
                type: array
              replicas:
                description: (optional) Replica information
                properties:
                  max:
                    description: Maximum amount of replicas to have in the deployment
                      (Default 100)
                    format: int32
                    type: integer
                  min:
                    description: Minimum amount of replicas to have in the deployment
                      (Default 0)
                    format: int32
                    type: integer
                type: object
              scaleTargetRef:
                description: The name of the deployment to route HTTP requests to
                  (and to autoscale).
                properties:
                  deployment:
                    description: The name of the deployment to scale according to
                      HTTP traffic
                    type: string
                  port:
                    description: The port to route to
                    format: int32
                    type: integer
                  service:
                    description: The name of the service to route to
                    type: string
                required:
                - deployment
                - port
                - service
                type: object
              scaledownPeriod:
                description: (optional) Cooldown period value
                format: int32
                type: integer
              targetPendingRequests:
                description: (optional) Target metric value
                format: int32
                type: integer
            required:
            - scaleTargetRef
            type: object
          status:
            description: HTTPScaledObjectStatus defines the observed state of HTTPScaledObject
            properties:
              conditions:
                description: Conditions of the operator
                items:
                  description: HTTPScaledObjectCondition stores the condition state
                  properties:
                    message:
                      description: Message indicating details about the transition.
                      type: string
                    reason:
                      description: Reason for the condition's last transition.
                      enum:
                      - ErrorCreatingAppScaledObject
                      - AppScaledObjectCreated
                      - TerminatingResources
                      - AppScaledObjectTerminated
                      - AppScaledObjectTerminationError
                      - PendingCreation
                      - HTTPScaledObjectIsReady
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    timestamp:
                      description: Timestamp of the condition
                      type: string
                    type:
                      description: Type of condition
                      enum:
                      - Created
                      - Terminated
                      - Error
                      - Pending
                      - Terminating
                      - Unknown
                      - Ready
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
